<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Photography Portfolio</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100..700;1,100..700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: "Josefin Sans", sans-serif;
            font-optical-sizing: auto;
            letter-spacing: -0.05em;
            font-weight: 700;
            font-style: normal;
            background-color: #1a1a1a;
            color: #f5f5f5;
        }
    </style>
</head>
<body class="relative min-h-screen">

    <!-- Navigation Menu -->
    <nav class="fixed top-0 left-0 w-full z-10 p-4">
        <div class="container mx-auto flex justify-between items-center px-4 md:px-0">
            <a href="#" class="text-2xl font-bold text-white rounded-md p-2 hover:bg-white/10 transition-colors">
                PÃ³th Attila
            </a>
            <div class="space-x-4">
                <a href="#art" class="text-white">Art</a>
                <a href="#fashion" class="text-white">Fashion</a>
                <a href="#analog" class="text-white">Analog</a>
                <a href="#backstage" class="text-white">Backstage</a>
                <a href="#about" class="text-white">About</a>
            </div>
        </div>
    </nav>
    
    <!-- Main content container -->
    <main id="content-container" class="relative w-full h-screen overflow-hidden">
        <!-- Content will be dynamically injected here -->
    </main>

    <script>
        // The manifest object with page and section data
        const manifest = {
    pages: [
        {
            slug: "",
            background: "masthead.jpg",
            sections: [
                {
                    type: "text",
                    content: "Welcome to the Homepage",
                    style: {
                        desktop: { top: "40%", left: "10%", position: "absolute" },
                        mobile: { top: "20%", left: "5%", position: "relative" }
                    }
                },
                {
                    type: "text",
                    content: "Photography by Your Name",
                    style: {
                        desktop: { top: "50%", left: "10%", position: "absolute" },
                        mobile: { top: "30%", left: "5%", position: "relative" }
                    }
                }
            ]
        },
        {
            slug: "art",
            background: "DSC08556.jpg",
            sections: [
                {
                    type: "text",
                    content: "Welcome to the Manifest Desktop",
                    style: {
                        desktop: { position: "relative" },
                        mobile: { top: "10%", left: "5%", position: "relative" }
                    }
                }
            ]
        },
        {
            slug: "about",
            background: null,
            sections: [
                {
                    type: "text",
                    content: "About the Photographer manifest",
                    style: {
                        desktop: { left: "15%", position: "relative" },
                        mobile: { top: "15%", left: "10%", position: "relative" }
                    }
                },
                {
                    type: "image",
                    src: "me-rounded.png",
                    style: {
                        desktop: { position: "relative", margin: "30px auto 0" },
                        mobile: { bottom: "5%", right: "5%", position: "relative" }
                    }
                }
            ]
        },
        { slug: "fashion", background: "DSC07947-3.jpg", navColor: "gold", sections: [] },
        { slug: "conceptual", background: null, sections: [] },
        { slug: "collabs", background: null, sections: [] },
        { slug: "analog", background: "DSC06875.jpg", navColor: "gold", sections: [] },
        { slug: "models", background: null, sections: [] },
        { slug: "lookbook", background: null, sections: [] },
        { slug: "backstage", background: "DSC05237.jpg", sections: [] },
        { slug: "dance", background: null, sections: [] },
        { slug: "theater", background: null, sections: [] }
    ]
};

        const contentContainer = document.getElementById('content-container');
        const desktopMediaQuery = window.matchMedia('(min-width: 768px)');
        
        /**
         * Generates the HTML string for a given section object.
         * @param {Object} section - The section object from the manifest.
         * @returns {string} The HTML string for the section.
         */
        function getSectionHtml(section) {
            const isDesktop = desktopMediaQuery.matches;
            const styleObj = isDesktop ? section.style.desktop : section.style.mobile;
            const styleString = Object.keys(styleObj)
                .map(key => `${key}: ${styleObj[key]}`)
                .join('; ');

            if (section.type === 'text') {
                return `
                    <div style="${styleString}" class="mt-[64px] text-4xl md:text-6xl font-bold text-white p-4 rounded-md max-w-[80%]">
                        ${section.content}
                    </div>
                `;
            } else if (section.type === 'image') {
                return `
                    <img src="img/${section.src}" alt="Portfolio Image" style="${styleString}" class="mt-[64px] max-w-full md:max-w-[50%] h-auto rounded-lg shadow-2xl">
                `;
            } else {
                return '';
            }
        }

        /**
         * Renders the page content based on the current URL hash.
         */
        function renderPage() {
            // Get the slug from the URL hash, default to empty string for home page
            const currentSlug = window.location.hash.substring(1);
            
            // Find the corresponding page in the manifest
            const currentPage = manifest.pages.find(page => page.slug === currentSlug);

            if (!currentPage) {
                console.error("Page not found in manifest.");
                return;
            }

            // Clear existing content and reset styles
            contentContainer.innerHTML = '';
            contentContainer.className = 'relative w-full h-screen overflow-hidden';
            
            // Set background if specified
            if (currentPage.background) {
                contentContainer.style.backgroundImage = `url(img/${currentPage.background})`;
                contentContainer.style.backgroundSize = 'cover';
                contentContainer.style.backgroundPosition = 'center';
            } else {
                contentContainer.style.backgroundImage = '';
            }

             // Set nav color if specified
            const navLinks = document.querySelectorAll('nav a');
            if (currentPage.navColor) {
                navLinks.forEach(link => {
                    link.style.color = currentPage.navColor;
                });
            } else {
                navLinks.forEach(link => {
                    link.style.color = ''; // Reset to default
                });
            }

            // Generate and inject HTML from all sections
            const sectionsHtml = currentPage.sections.map(section => getSectionHtml(section)).join('');
            contentContainer.innerHTML = sectionsHtml;
        }

        // Add a listener for hash changes to enable routing
        window.addEventListener('hashchange', renderPage);

        // Initial render on page load
        document.addEventListener('DOMContentLoaded', renderPage);

        // Re-render on media query change
        desktopMediaQuery.addListener(renderPage);

    </script>
</body>
</html>
